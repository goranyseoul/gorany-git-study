# Stitch Expert Skill

## 개요
Google Stitch MCP 서버를 활용한 UI 디자인 및 프론트엔드 코드 생성 전문가 스킬입니다.

Stitch는 텍스트 프롬프트로 UI 화면을 생성하는 AI 기반 디자인 도구입니다.

## 핵심 역량

### 1️⃣ 프로젝트 관리
- 프로젝트 생성, 조회, 목록 확인
- 프로젝트별 화면 관리

### 2️⃣ 화면 생성
- 텍스트 프롬프트 기반 UI 생성
- Mobile/Desktop 디바이스 지원
- Gemini 3 Pro/Flash 모델 선택

### 3️⃣ 화면 조회
- 프로젝트 내 화면 목록
- 개별 화면 상세 정보

---

## 📚 기능 카탈로그

### 📁 프로젝트 관리

#### `create_project`
새 Stitch 프로젝트를 생성합니다.

**매개변수:**
- `title`: (선택) 프로젝트 제목

**반환값:**
- 생성된 프로젝트 정보 (project_id 포함)

**예시:**
```
mcp_stitch_create_project 호출
- title: "AI 사주 앱 디자인"
```

---

#### `get_project`
특정 프로젝트의 상세 정보를 조회합니다.

**매개변수:**
- `name`: (필수) 프로젝트 이름 - 형식: `projects/{project_id}`

**예시:**
```
mcp_stitch_get_project 호출
- name: "projects/3780309359108792857"
```

---

#### `list_projects`
사용자가 접근 가능한 모든 프로젝트를 조회합니다.

**매개변수:**
- `filter`: (선택) 필터 옵션
  - `"view=owned"`: 소유한 프로젝트만 (기본값)
  - `"view=shared"`: 공유받은 프로젝트만

**예시:**
```
mcp_stitch_list_projects 호출
- filter: "view=owned"
```

---

### 🖼️ 화면 관리

#### `list_screens`
프로젝트 내 모든 화면을 조회합니다.

**매개변수:**
- `projectId`: (필수) 프로젝트 ID - 형식: `projects/{project_id}`

**예시:**
```
mcp_stitch_list_screens 호출
- projectId: "projects/3780309359108792857"
```

---

#### `get_screen`
특정 화면의 상세 정보를 조회합니다.

**매개변수:**
- `projectId`: (필수) 프로젝트 ID - `/` 없이, 예: `3780309359108792857`
- `screenId`: (필수) 화면 ID - `/` 없이, 예: `88805318abe84d16add098fae3add91e`

**예시:**
```
mcp_stitch_get_screen 호출
- projectId: "3780309359108792857"
- screenId: "88805318abe84d16add098fae3add91e"
```

---

#### `generate_screen_from_text` ⭐ 핵심 기능
텍스트 프롬프트로 새 UI 화면을 생성합니다.

**매개변수:**
- `projectId`: (필수) 프로젝트 ID - `/` 없이
- `prompt`: (필수) 원하는 화면 설명
- `deviceType`: (선택) 디바이스 유형
  - `MOBILE` (기본값)
  - `DESKTOP`
- `modelId`: (선택) AI 모델
  - `GEMINI_3_FLASH` (기본값, 빠름)
  - `GEMINI_3_PRO` (고품질)

**예시:**
```
mcp_stitch_generate_screen_from_text 호출
- projectId: "3780309359108792857"
- prompt: "로그인 화면 - 이메일/비밀번호 입력, 소셜 로그인 버튼 포함"
- deviceType: "MOBILE"
- modelId: "GEMINI_3_PRO"
```

**⚠️ 중요 사항:**
- 생성에 **몇 분이 걸릴 수 있음** - 인내심을 가지고 기다리기
- **재시도 금지** - 연결 오류가 발생해도 생성이 진행 중일 수 있음
- 연결 오류 시 나중에 `get_screen`으로 결과 확인

**출력 처리:**
- `output_components`에 텍스트가 있으면 사용자에게 전달
- 제안(suggestions)이 있으면 사용자에게 선택지 제공
- 사용자가 제안을 수락하면 해당 제안을 `prompt`로 다시 호출

---

## 🎯 일반적인 워크플로우

### 1. 새 프로젝트로 시작하기
```
1. create_project (title="내 앱 디자인")
   → project_id 저장

2. generate_screen_from_text (
     projectId="...",
     prompt="홈 화면 - 사용자 프로필, 최근 활동 목록",
     deviceType="MOBILE"
   )
   → 2-3분 대기

3. list_screens (projectId="...")
   → 생성된 화면 확인
```

### 2. 여러 화면 연속 생성
```
1. 로그인 화면 생성
2. 홈 화면 생성
3. 설정 화면 생성
4. 각 화면 get_screen으로 상세 확인
```

### 3. 기존 프로젝트에 화면 추가
```
1. list_projects → 프로젝트 ID 확인
2. list_screens → 기존 화면 확인
3. generate_screen_from_text → 새 화면 추가
```

---

## 💡 효과적인 프롬프트 작성법

### ✅ 좋은 프롬프트 예시

**로그인 화면:**
```
로그인 화면:
- 상단에 앱 로고
- 이메일 입력 필드
- 비밀번호 입력 필드 (보기/숨기기 토글)
- '로그인' 버튼 (primary color)
- '비밀번호 찾기' 링크
- 하단에 Google/Apple 소셜 로그인 버튼
```

**대시보드:**
```
대시보드 화면:
- 상단 헤더: 사용자 아바타, 알림 아이콘
- 통계 카드 3개 (매출, 주문, 방문자)
- 최근 주문 목록 (5개)
- 하단 네비게이션 바
```

**프로필 화면:**
```
사용자 프로필 화면:
- 상단: 프로필 사진 (편집 가능)
- 이름, 이메일 표시
- 설정 메뉴 리스트:
  - 계정 설정
  - 알림 설정
  - 개인정보 보호
  - 로그아웃 버튼
```

### ❌ 나쁜 프롬프트 예시

```
❌ "좋은 앱 화면 만들어줘"
❌ "로그인 페이지"
❌ "깔끔한 디자인"
```

**문제점:** 너무 모호함, 구체적인 요소 없음

---

## 📱 디바이스 타입별 권장사항

### MOBILE
- 세로 방향 레이아웃
- 하단 네비게이션 바 권장
- 터치 친화적 버튼 크기
- 한 화면에 집중할 내용 표시

### DESKTOP
- 가로 레이아웃, 사이드바 활용
- 상단 네비게이션 메뉴
- 더 많은 정보 동시 표시
- 호버 상태 고려

---

## 🤖 모델 선택 가이드

| 모델 | 속도 | 품질 | 권장 사용 |
|------|------|------|----------|
| **GEMINI_3_FLASH** | ⚡ 빠름 | 좋음 | 빠른 프로토타입, 아이디어 검증 |
| **GEMINI_3_PRO** | 🐢 느림 | 최고 | 최종 디자인, 고품질 필요시 |

---

## ⚠️ 주의사항

### 생성 시간
- 화면 생성에 **2-5분** 소요
- 복잡한 화면일수록 더 오래 걸림
- 타임아웃처럼 보여도 백그라운드에서 진행 중일 수 있음

### 연결 오류 처리
```
연결 오류 발생 시:
1. 즉시 재시도하지 않기
2. 1-2분 대기
3. get_screen 또는 list_screens로 결과 확인
4. 생성되지 않았다면 다시 시도
```

### 프로젝트 ID 형식
```
✅ 올바름: "3780309359108792857"
❌ 틀림: "projects/3780309359108792857" (get_screen에서)
❌ 틀림: "/3780309359108792857"
```

### 제안(Suggestions) 처리
AI가 추가 제안을 할 수 있음:
1. 제안 목록을 사용자에게 표시
2. 사용자가 선택하면 해당 제안으로 다시 생성
3. 원치 않으면 무시하고 다른 프롬프트 사용

---

## 🔗 SDLC 통합

### 4번 프로토타입 단계
Stitch는 `/4-프로토타입` 워크플로우에서 활용됩니다:

```
1. 요구사항 분석 완료
2. 기능 정의 완료
3. 디자인 컨셉 정의
4. ✅ Stitch로 UI 프로토타입 생성
5. 디자인 구체화
```

### 저장 위치
생성된 화면 정보는 다음 위치에 문서화:
- `docs/4-프로토타입/stitch-screens/`
- 화면별 HTML export 가능

---

## 🔧 트러블슈팅

### 인증 오류
```bash
CLOUDSDK_CONFIG="/Users/kimjinwoo/.stitch-mcp/config" \
  gcloud auth application-default login
```

### 프로젝트를 찾을 수 없음
1. `list_projects`로 현재 프로젝트 목록 확인
2. 정확한 project_id 복사
3. 형식 확인 (projects/ 접두사 필요 여부)

### 화면 생성 실패
1. 프롬프트가 너무 짧거나 모호하지 않은지 확인
2. 다른 모델로 시도 (Flash ↔ Pro)
3. 프롬프트를 더 구체적으로 수정

---

## 📋 체크리스트

### 초기 설정
- [ ] GCloud 인증 완료
- [ ] Stitch MCP 연결 확인
- [ ] `list_projects`로 테스트

### 화면 생성
- [ ] 프로젝트 생성/선택
- [ ] 구체적인 프롬프트 작성
- [ ] 디바이스 타입 선택
- [ ] 모델 선택 (Flash/Pro)
- [ ] 생성 완료 대기 (2-5분)
- [ ] 결과 확인 및 저장

### 문서화
- [ ] 생성된 화면 목록 기록
- [ ] 프로토타입 폴더에 정리
- [ ] 다음 단계 계획

---

**버전:** 1.0.0  
**최종 업데이트:** 2026-01-27
