---
description: 디자인 토큰 추출 및 플랫폼 변환 (React, Figma, 웹사이트 → Figma Variables, Android, iOS)
---

# 디자인 토큰 추출 워크플로우

## 도구 위치
`.agent/tools/5-디자인-추출/` 폴더의 스크립트 사용

---

## Step 1: 소스 타입 판별

| 입력 | 처리 방법 |
|------|----------|
| `https://...` 또는 도메인명 | → Step 2A (웹사이트 CLI) |
| `figma.com/...` | → Step 2B (Figma) |
| 파일 경로 | → Step 2C (코드) |

---

## Step 2A: 웹사이트에서 토큰 추출 (CLI)

// turbo-all

### 1. CLI 스크립트 실행 (자동 병합)

> ⚠️ **프로젝트 루트에서 실행**해야 출력 폴더가 올바른 위치에 생성됩니다.

**기본 명령 (기본 + Fullpage 자동 병합):**
```bash
node .agent/tools/5-디자인-추출/extract-cli.js <URL> <출력폴더>
```

> 💡 한 번 실행으로 **기본 모드 + Fullpage 모드** 두 가지를 모두 실행하고, 결과를 병합합니다.  
> 중복 컴포넌트는 `unique-components.json`에서 자동 제거됩니다.

**옵션 (선택적):**
- `--basic`: 기본 모드만 실행
- `--fullpage`: Fullpage 모드만 실행

**예시:**
```bash
# 네이버 (기본 + fullpage 자동 병합)
node .agent/tools/5-디자인-추출/extract-cli.js https://naver.com docs/5-디자인구체화/naver-tokens

# 원티드 (기본 + fullpage 자동 병합)
node .agent/tools/5-디자인-추출/extract-cli.js https://wanted.co.kr docs/5-디자인구체화/wanted-tokens
```

### 2. 생성되는 파일

**기본 모드:**
```
<출력폴더>/
├── colors.json        # 색상 팔레트
├── typography.json    # 타이포그래피
├── sizing.json        # 스페이싱, borderRadius
├── components.json    # 버튼, 카드, 인풋 등 컴포넌트
└── screenshot.png     # 페이지 스크린샷
```

**Fullpage 모드 (추가):**
```
<출력폴더>/
├── ... (기본 파일들)
├── components.json        # 절대좌표 포함 컴포넌트
└── unique-components.json # 중복 제거된 유니크 컴포넌트
```

### 3. (선택) AI 누락 요소 검증

> 💡 추출 결과가 부족해 보이면 AI에게 스크린샷 분석을 요청하세요.

**AI에게 스크린샷과 함께 다음 프롬프트 전달:**

```
이 스크린샷과 추출된 컴포넌트 목록을 비교해주세요.

[components.json 내용 또는 파일 첨부]

다음 요소들 중 누락된 것이 있는지 체크해주세요:
1. 버튼 (색상, 크기, 텍스트)
2. 카드 (이미지+텍스트 조합)
3. 아이콘 버튼 (아이콘+라벨)
4. 입력 필드
5. 네비게이션/탭

누락된 요소가 있으면 components.json 형식으로 추가할 내용을 알려주세요.
```

---

## Step 2B: Figma에서 추출

1. `mcp_figma_mcp_get_figma_data` 호출
2. 스타일 데이터를 표준 JSON으로 변환
3. `docs/5-디자인구체화/{프로젝트명}-tokens/` 폴더에 저장

---

## Step 2C: 코드 파일에서 추출

1. `tailwind.config.js` 또는 `theme.ts` 파일 읽기
2. colors, typography, spacing 추출
3. `docs/5-디자인구체화/{프로젝트명}-tokens/` 폴더에 저장

---

## Step 3: Figma에 적용

추출된 토큰 파일들을 Figma 플러그인으로 Import:

1. Figma → Plugins → Development → Import plugin from manifest
2. `.agent/tools/5-디자인-추출/manifest.json` 선택
3. Plugins → Design Tokens Importer → 📁 Import Tokens (UI)
4. 생성된 JSON 파일들 드래그앤드롭
5. "Figma에 생성하기" 클릭

---

## Step 4: 완료 안내

```
✅ 디자인 토큰 추출 완료!

📁 생성 파일:
- colors.json      (색상)
- typography.json  (타이포그래피)
- sizing.json      (스페이싱/radius)
- components.json  (컴포넌트)

💡 다음: /5-디자인-토큰-피그마 실행하여 Figma에 적용
```

---

## 참고: 수동 추출 (브라우저 콘솔)

CLI가 안 되는 경우:
1. 브라우저에서 대상 사이트 열기
2. DevTools Console 열기 (F12)
3. `.agent/tools/5-디자인-추출/extract-tokens.js` 내용 복붙 후 실행
4. `downloadTokens()` 호출하여 JSON 다운로드
