---
description: 로컬 프로토타입 생성 (Stitch 사용 시 스킵)
---

# 4. 프로토타입

---

## 사전 요구사항 (Stitch 사용 시)

### gcloud CLI 설치 (최초 1회)
```bash
# macOS (Homebrew)
brew install --cask google-cloud-sdk
```

### Google Cloud 인증 (최초 1회)
```bash
gcloud auth login
gcloud auth application-default login
```

### 프로젝트 설정 (최초 1회)
```bash
export PROJECT_ID="stitch-test-485312"
gcloud auth application-default set-quota-project $PROJECT_ID
```

---

## 방법 A-1: Stitch MCP로 프로토타입 생성 (최우선 권장)

> 🌟 **MCP를 통해 직접 UI 화면을 생성할 수 있습니다!**

### 1. 프로젝트 생성 또는 선택
```
mcp_stitch_list_projects 호출
- filter: "view=owned"
```

프로젝트가 없으면:
```
mcp_stitch_create_project 호출
- title: "{app-name} 프로토타입"
```

### 2. 화면 생성 (MCP)
```
mcp_stitch_generate_screen_from_text 호출
- projectId: "{project_id}"       # projects/ 없이!
- prompt: "로그인 화면: 이메일/비밀번호 입력, 소셜 로그인 버튼"
- deviceType: "MOBILE" | "DESKTOP"
- modelId: "GEMINI_3_PRO" | "GEMINI_3_FLASH"
```

> ⚠️ **생성에 2-5분 소요!** 재시도하지 마세요.

### 3. 생성된 화면 확인
```
mcp_stitch_list_screens 호출
- projectId: "projects/{project_id}"
```

### 4. 화면 상세 정보
```
mcp_stitch_get_screen 호출
- projectId: "{project_id}"       # projects/ 없이!
- screenId: "{screen_id}"
```

### 프롬프트 예시
```markdown
로그인 화면:
- 상단 앱 로고
- 이메일 입력 필드
- 비밀번호 입력 필드 (보기/숨기기 토글)
- '로그인' 버튼 (primary color)
- 하단 Google/Apple 소셜 로그인
```

### 출력
- Stitch 프로젝트에 화면 저장
- `docs/4-프로토타입/stitch-screens/*.html` (HTML 다운로드 시)

### 트러블슈팅
**인증 오류 시:**
```bash
CLOUDSDK_CONFIG="/Users/kimjinwoo/.stitch-mcp/config" \
  gcloud auth application-default login
```

---

## 방법 A-2: Stitch 웹앱에서 가져오기

> ⚠️ Stitch 웹앱에서 직접 생성한 경우 API로 가져오기

---

## 방법 B: 로컬 프로토타입 직접 생성

Stitch 없이 만드는 경우:

```
@prototype 프로토타입 만들어줘
```

### 출력
- `prototype/`

---

## 방법 C: Remotion 비디오 프로토타입 (4-1)

> 🎥 React로 프로토타입을 **비디오**로 만들어 시연/발표용으로 활용
> 
> **⚠️ 워크플로우 실행 시 자동 확인:** "Remotion 비디오도 생성할까요? (y/n)"

### 자동 실행 조건
프로토타입 완료 후 사용자에게 질문:
```
✅ 프로토타입 생성 완료!

📹 Remotion 비디오를 함께 생성할까요?
- 시연용 MP4 비디오
- Slack/Notion용 GIF

(y/n):
```

**사용자가 `y` 선택 시 아래 단계를 자동 실행:**

### 1. Remotion 프로젝트 생성 (자동)
// turbo
```bash
npx create-video@latest docs/4-프로토타입/remotion-video --template blank -y
```

### 2. 데모 컴포넌트 자동 생성
`docs/4-프로토타입/remotion-video/src/PrototypeDemo.tsx` 파일을 자동 생성:
- `docs/3-디자인/screens.md`의 화면 목록 기반
- 각 화면을 3초씩 전환하는 시퀀스

### 3. 비디오 렌더링 (자동)
// turbo
```bash
cd docs/4-프로토타입/remotion-video && npm install && npx remotion render PrototypeDemo ../media/demo.mp4
```

### 4. GIF 변환 (자동 - 10초 이하일 때)
// turbo
```bash
cd docs/4-프로토타입/remotion-video && npx remotion render PrototypeDemo ../media/demo.gif --codec=gif
```

### 출력
- `docs/4-프로토타입/media/demo.mp4`
- `docs/4-프로토타입/media/demo.gif`


### 참고
- 문서: [remotion.dev/docs](https://www.remotion.dev/docs)
- GitHub: [remotion-dev/remotion](https://github.com/remotion-dev/remotion)

---

## 검수 및 출력

프로토타입 완료 후 `docs/3-디자인/screens.md` 기준으로 검수:

### 필수 출력
- `docs/4-프로토타입/stitch-screens/*.html` (프로토타입 파일)
- `docs/4-프로토타입/검수결과.md` (완료/미완료 목록)

### 선택 출력 (Remotion 사용 시)
- `docs/4-프로토타입/remotion-video/out/demo.mp4`
- `docs/4-프로토타입/remotion-video/out/demo.gif`

### 검수결과.md 템플릿

```markdown
# 프로토타입 검수 결과

## 요약
- 전체: X개 화면
- 완료: Y개
- 미완료: Z개

## 완료 ✅
| 화면 | 파일 | 구성요소 |
|------|------|----------|
| 랜딩 | 00-landing-page.html | ✅ 모두 충족 |

## 미완료 ❌
| 화면 | 누락 사유 |
|------|-----------|
| 노션 연결 | 미생성 |

## 구성요소 미충족 ⚠️
| 화면 | 누락 요소 |
|------|-----------|
| (해당 시 작성) |

## Remotion 비디오 (선택)
| 파일 | 설명 |
|------|------|
| demo.mp4 | 전체 플로우 시연 비디오 |
| demo.gif | Slack/Notion 공유용 GIF |
```

