# 기능 정의서: 수취 (Receive)

> **원본**: [Confluence](https://bugcity.atlassian.net/wiki/spaces/BUGCITY/pages/420806658)  
> **버전**: 0.4

---

## 1. 기능 개요

사용자가 외부에서 스테이블코인을 입금받는 기능입니다. QR 코드와 지갑 주소를 제공하고, 입금 감지 시 알림을 보냅니다.

---

## 2. 핵심 플로우

```
홈 → "받기" 버튼 → QR 코드 + 주소 표시 → 복사 → 외부에서 입금 → 입금 감지 → 푸시 알림 → 잔액 업데이트
```

---

## 3. 상세 스펙

### 3.1 네트워크 및 토큰

| 항목 | 스펙 |
| --- | --- |
| 지원 네트워크 | Ethereum (ERC-20) |
| 지원 토큰 | USDC 또는 USDT (1개만 지원, TBD) |
| 네트워크 표시 | "Ethereum" 뱃지 고정 |

### 3.2 QR 코드

| 항목 | 스펙 |
| --- | --- |
| 인코딩 내용 | 지갑 주소 (0x...) |
| 크기 | 200x200px 이상 |
| 에러 보정 | Level M |

### 3.3 입금 감지

| 항목 | 스펙 |
| --- | --- |
| 방식 | 블록체인 이벤트 구독 (Alchemy/Infura) |
| 확인 블록 | 1 confirmation |
| 예상 지연 | ~12초 |
| 알림 | 푸시 알림 (FCM/APNs) |

### 3.4 잔액 표시

| 항목 | 스펙 |
| --- | --- |
| 업데이트 | 입금 감지 즉시 |
| 소수점 | 2자리 |
| USD 환산 | 1:1 또는 실시간 시세 (TBD) |

---

## 4. 화면 구성

### 4.1 Receive 화면

| 영역 | 요소 |
| --- | --- |
| 상단 | Lair Cash 로고 + 서비스명 |
| 중앙 | QR 코드 |
| 하단 | 지갑 주소 (전체) + 복사 버튼 |
| 네트워크 | "Ethereum" 뱃지 |
| 거래소 가이드 | 버튼 → 상세 화면 이동 |

### 4.2 거래소 가이드 화면

**업비트:**
1. 업비트 앱 → 출금 → USDC 선택
2. 네트워크: Ethereum(ERC-20)
3. 주소 입력 + 증빙 제출
4. 출금 완료 후 잔액 확인

**빗썸:**
1. 빗썸 앱 → 출금 → USDC 선택
2. 네트워크: Ethereum(ERC-20)  
3. 주소 입력 + 트래블룰 정보 입력
4. OTP 인증
5. 출금 완료

---

## 5. 트래블룰 대응

### 5.1 안내 문구

> 거래소에서 출금 시 "트래블룰" 정보 입력이 필요합니다.
> 
> - **수취인 정보:** Lair Cash / 법인 (서비스 운영사 정보)
> - **지갑 유형:** 개인지갑
> - **목적:** 개인 보관

### 5.2 증빙 요청 시

캡쳐 화면에 포함될 정보:
- Lair Cash 로고 + 서비스명
- 지갑 주소
- "Ethereum" 네트워크 표시

---

## 6. API

| API | 메서드 | 설명 |
| --- | --- | --- |
| /wallet/address | GET | 지갑 주소 조회 |
| /wallet/balance | GET | 잔액 조회 |

---

## 7. QA 체크리스트

### 7.1 기본 기능
- [ ] Receive 화면 정상 진입
- [ ] Lair Cash 로고 + 서비스명 표시
- [ ] QR 코드 정상 표시
- [ ] 지갑 주소 전체 표시
- [ ] 주소 복사 버튼 동작
- [ ] 복사 완료 토스트 표시

### 7.2 거래소 가이드
- [ ] 업비트 가이드 버튼 동작
- [ ] 빗썸 가이드 버튼 동작
- [ ] 트래블룰 안내 표시

### 7.3 입금 감지
- [ ] Ethereum USDC/USDT 입금 감지
- [ ] 푸시 알림 수신
- [ ] 잔액 업데이트
