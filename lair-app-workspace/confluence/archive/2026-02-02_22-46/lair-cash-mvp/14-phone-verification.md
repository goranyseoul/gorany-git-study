# 기능 정의서 - 전화번호 인증 화면

**원본:** https://bugcity.atlassian.net/wiki/spaces/BUGCITY/pages/431095810
**페이지 ID:** 431095810
**작성일:** 2026-01-30

---

| 항목 | 내용 |
| --- | --- |
| 작성일 | 2026-01-30 |
| 최종 수정 | 2026-01-30 |
| 작성자 | PM |
| 상태 | Draft |
| 버전 | 1.0 |

---

## 1. 개요

전화번호 인증 화면. 배틀패스 활성화 조건으로, 인증 완료 시 보상 수령이 가능해진다.

---

## 2. 유저 스토리

> **As a** 사용자  
> **I want to** 전화번호를 인증해서  
> **So that** 배틀패스 보상을 받을 수 있다.

---

## 3. 인증 플로우

```
설정 → 전화번호 인증 탭
→ 전화번호 입력 → SMS OTP 발송
→ OTP 입력 → 인증 완료
→ 배틀패스 활성화
```

---

## 4. 화면 구성

### 4.1 전화번호 입력

```
┌─────────────────────────────┐
│  [←]    전화번호 인증        │
├─────────────────────────────┤
│                             │
│  배틀패스 보상을 받으려면    │
│  전화번호 인증이 필요해요    │
│                             │
│  📱 전화번호                 │
│  [+82] [010-0000-0000]      │
│                             │
│  [인증번호 받기]             │
│                             │
└─────────────────────────────┘
```

### 4.2 OTP 입력

```
┌─────────────────────────────┐
│  [←]    인증번호 입력        │
├─────────────────────────────┤
│                             │
│  010-0000-0000으로          │
│  인증번호를 보냈어요         │
│                             │
│  [○] [○] [○] [○] [○] [○]   │
│                             │
│  02:58 남음                  │
│  [재발송]                    │
│                             │
└─────────────────────────────┘
```

### 4.3 인증 완료

```
┌─────────────────────────────┐
│        인증 완료! ✅         │
├─────────────────────────────┤
│                             │
│  🎉 배틀패스가 활성화        │
│     되었습니다!              │
│                             │
│  이제 레벨업 보상을          │
│  받을 수 있어요              │
│                             │
│  [확인]                      │
│                             │
└─────────────────────────────┘
```

---

## 5. 중복 방지

| 정책 | 내용 |
| --- | --- |
| 전화번호 해시 | 번호를 해시하여 저장 |
| 중복 검사 | 이미 인증된 번호 차단 |
| 에러 메시지 | "이미 사용 중인 전화번호입니다." |

---

## 6. API

| 엔드포인트 | 메소드 | 설명 |
| --- | --- | --- |
| `/phone/send-otp` | POST | OTP 발송 |
| `/phone/verify` | POST | OTP 검증 |

---

## 7. 에러 처리

| 에러 | 처리 |
| --- | --- |
| 잘못된 번호 형식 | "올바른 전화번호를 입력하세요." |
| OTP 만료 | "인증번호가 만료되었습니다. 다시 받아주세요." |
| 잘못된 OTP | "인증번호가 올바르지 않습니다." |
| 중복 번호 | "이미 사용 중인 전화번호입니다." |
| 발송 실패 | "잠시 후 다시 시도해주세요." |
