# 기능 정의서 - 푸시 알림 (Push Notification)

**원본:** https://bugcity.atlassian.net/wiki/spaces/BUGCITY/pages/431063042
**페이지 ID:** 431063042
**작성일:** 2026-01-30

---

| 항목 | 내용 |
| --- | --- |
| 작성일 | 2026-01-30 |
| 최종 수정 | 2026-01-30 |
| 작성자 | PM |
| 상태 | Draft |
| 버전 | 1.0 |

---

## 1. 개요

사용자에게 중요한 이벤트를 알리는 푸시 알림 기능.

---

## 2. 알림 유형

| 유형 | 트리거 | 메시지 예시 |
| --- | --- | --- |
| 입금 완료 | USDC 입금 확인 | "100 USDC가 입금되었습니다!" |
| 만기 도래 | 예치 상품 만기 1일 전 | "내일 예치 상품이 만기입니다." |
| 만기 완료 | 예치 상품 만기 | "예치가 완료되었습니다. 출금하세요!" |
| 레벨업 | 배틀패스 레벨업 | "Lv.5 달성! 보상을 받으세요." |
| 금캐기 가능 | 쿨타임 종료 | "금캐기 쿨타임이 끝났어요. 채굴하세요!" |

---

## 3. 기술 스택

| 플랫폼 | 서비스 |
| --- | --- |
| Android | Firebase Cloud Messaging (FCM) |
| iOS | APNs + FCM |

---

## 4. 구현 요구사항

### 4.1 FCM 설정

1. Firebase 프로젝트 생성
2. `google-services.json` (Android)
3. `GoogleService-Info.plist` (iOS)
4. 서버에서 FCM Token 저장

### 4.2 토큰 관리

| 시점 | 동작 |
| --- | --- |
| 로그인 | FCM Token 서버 전송 |
| 토큰 갱신 | 자동 업데이트 |
| 로그아웃 | 토큰 삭제 |

---

## 5. API

| 엔드포인트 | 메소드 | 설명 |
| --- | --- | --- |
| `/user/fcm-token` | POST | FCM Token 저장 |
| `/user/fcm-token` | DELETE | Token 삭제 (로그아웃) |

---

## 6. 사용자 설정

| 설정 | 기본값 | 설명 |
| --- | --- | --- |
| 푸시 알림 | ON | 전체 알림 |
| 마케팅 알림 | OFF | 프로모션/이벤트 |
