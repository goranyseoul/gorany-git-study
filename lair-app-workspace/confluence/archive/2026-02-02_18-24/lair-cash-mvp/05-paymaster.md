# 기능 정의서 - 가스비 대납 (Paymaster)

**원본:** https://bugcity.atlassian.net/wiki/spaces/BUGCITY/pages/420839447
**페이지 ID:** 420839447
**작성일:** 2026-01-11

---

| 항목 | 내용 |
| --- | --- |
| 작성일 | 2026-01-11 |
| 최종 수정 | 2026-01-30 |
| 작성자 | PM |
| 상태 | Draft |
| 버전 | 2.0 |

---

## 1. 개요

사용자가 가스비(ETH)를 보유하지 않아도 트랜잭션을 실행할 수 있도록 서비스가 가스비를 대납하는 기능.

---

## 2. 유저 스토리

> **As a** 사용자  
> **I want to** ETH 없이도 트랜잭션을 실행해서  
> **So that** 복잡한 가스비 충전 없이 서비스를 이용할 수 있다.

---

## 3. 적용 범위

### 3.1 MVP 무조건 대납

> ⚠️ **v1.0에서는 무조건 대납**

| 상황 | 대납 |
| --- | --- |
| USDC 전송 | ✅ 무조건 대납 |
| XAUT 전송 | ✅ 무조건 대납 |
| 금캐기 예치 | ✅ 무조건 대납 |
| 금캐기 출금 | ✅ 무조건 대납 |
| 이자 클레임 | ✅ 무조건 대납 |

### 3.2 향후 정책 (v2.0+)

배틀패스 레벨에 따른 차등 적용 검토

---

## 4. 기술 구현

### Privy Paymaster

* Privy 내장 Paymaster 사용
* Privy Dashboard에서 Sponsorship Policy 설정

### 설정 방법

1. Privy Dashboard → Sponsorship 메뉴
2. Policy 생성
3. 스폰서 대상 지정 (USDC, XAUT 컨트랙트)
4. 일일 한도 설정

---

## 5. 비용 관리

| 항목 | 설정 |
| --- | --- |
| 일일 한도 | $X/일 |
| 유저별 한도 | $Y/일 |
| 모니터링 | 일일 가스비 사용량 트래킹 |

---

## 6. 어뷰징 방지

| 정책 | 내용 |
| --- | --- |
| 유저별 일일 한도 | 과도한 트랜잭션 제한 |
| Rate Limiting | 분당 트랜잭션 수 제한 |
| 비정상 패턴 감지 | 반복 트랜잭션 모니터링 |
