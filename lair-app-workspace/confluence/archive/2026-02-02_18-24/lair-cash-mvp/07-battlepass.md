# 배틀패스 시스템 PRD

> **원본**: [Confluence](https://bugcity.atlassian.net/wiki/spaces/BUGCITY/pages/428015617)  
> **최종 수정**: 2026-02-02  
> **버전**: 0.3

---

## 1. 개요

### 목적

- XP 기반 레벨 시스템으로 유저의 입금 및 친구 초대 유도
- 마케팅 예산 내에서 효율적인 보상 지급
- 레벨이 올라갈수록 XP당 보상 효율 감소 (체감 설계)

### 핵심 원칙

- **50 XP = 1mg 금 = ₩250** 기준 단가 (초반 레벨 기준)
- XP 획득 비율은 고정, 레벨업 요구량 증가로 체감
- 레벨이 올라갈수록 mg/XP 효율 감소

---

## 2. XP 획득 구조

### 2.1 친구 초대

| 행동 | XP | 비고 |
| --- | --- | --- |
| 친구 1명 가입 | +50 XP | 고정 |

### 2.2 USDC 입금

| 조건 | XP |
| --- | --- |
| $1당 | +5 XP |

**입금액별 XP 예시:**

| 입금액 | 획득 XP | 도달 레벨 | 누적 보상 |
| --- | --- | --- | --- |
| $100 | 500 XP | Lv.5 | 9mg |
| $200 | 1,000 XP | Lv.7 | 16mg |
| $300 | 1,500 XP | Lv.8 | 21mg |
| $400 | 2,000 XP | Lv.9 | 26mg |
| $600 | 3,000 XP | Lv.10 | 34mg |

### 2.3 친구 Nudge

| 행동 | XP | 비고 |
| --- | --- | --- |
| Nudge 발송 | +1 XP | 발송 즉시 지급 |
| Nudge 성공 | +3 XP | 친구가 24시간 내 금캐기 시작 시 |

---

## 3. 레벨 테이블

| 레벨 | 필요 XP | 누적 XP | 보상 (mg) | 누적 보상 | XP당 mg |
| --- | --- | --- | --- | --- | --- |
| 1 | 50 | 50 | 1 | 1 | 0.020 |
| 2 | 50 | 100 | 1 | 2 | 0.020 |
| 3 | 100 | 200 | 2 | 4 | 0.020 |
| 4 | 100 | 300 | 2 | 6 | 0.020 |
| 5 | 200 | 500 | 3 | 9 | 0.018 |
| 6 | 250 | 750 | 3 | 12 | 0.016 |
| 7 | 250 | 1,000 | 4 | 16 | 0.016 |
| 8 | 500 | 1,500 | 5 | 21 | 0.014 |
| 9 | 500 | 2,000 | 5 | 26 | 0.013 |
| 10 | 1,000 | 3,000 | 8 | 34 | 0.011 |

---

## 4. 보상 수령 (Claim)

### 4.1 해금 조건

| 조건 | 필요 상태 |
| --- | --- |
| 레벨 도달 | ✅ |
| 전화번호 인증 | ✅ |

### 4.2 인터랙션

```
1. 레벨 노드 클릭
2. 보상 해금 팝업
   - 미인증: "전화번호 인증 후 보상 받기" → 인증 화면
   - 인증완료: "X mg 받기" → 수령 완료
3. 수령 완료 → 금 잔고 반영
```

---

## 5. 마케팅 비용 분석

### 5.1 기준 단가

- **50 XP = 1mg 금 = ₩250** (초반 레벨 기준)
- 레벨이 올라갈수록 효율 감소

### 5.2 입금액별 마케팅 비용

| 입금액 | 획득 XP | 누적 보상 | 마케팅 비용 | 입금 대비 % |
| --- | --- | --- | --- | --- |
| $100 | 500 XP | 9mg | ₩2,250 | 1.6% |
| $200 | 1,000 XP | 16mg | ₩4,000 | 1.4% |
| $300 | 1,500 XP | 21mg | ₩5,250 | 1.2% |
| $600 | 3,000 XP | 34mg | ₩8,500 | 1.0% |

### 5.3 행동별 CAC

| 행동 | XP | 보상 | 원가 | 평가 |
| --- | --- | --- | --- | --- |
| 친구 1명 초대 | 50 XP | 1mg | ₩250 | 업계 대비 저렴 |
| $100 입금 | 500 XP | 9mg | ₩2,250 | 허들 대비 적절 |
| Nudge 성공 | 3 XP | 0.06mg | ₩15 | 인게이지먼트 비용 |

---

## 6. 핵심 지표 (KPI)

| 지표 | 목표 | 측정 방법 |
| --- | --- | --- |
| 첫 입금 전환율 | 15%+ | 가입 → $100 입금 |
| 평균 초대 수 | 3명+ | 유저당 초대 친구 |
| Lv.5 달성률 | 20%+ | 전체 유저 중 |
| CAC | ₩1,000 이하 | 마케팅비/신규유저 |
| Nudge 성공률 | 30%+ | Nudge 발송 → 성공 |

---

## 7. API

| API | 메서드 | 설명 |
| --- | --- | --- |
| /battlepass/status | GET | 레벨/XP 현황 |
| /battlepass/claim | POST | 보상 수령 |
| /battlepass/xp | POST | XP 획득 기록 |

### Response 예시 (GET /battlepass/status)

```json
{
  "level": 5,
  "xp": 350,
  "next_level_xp": 500,
  "total_reward_mg": 9,
  "claimed_levels": [1, 2, 3, 4],
  "claimable_levels": [5],
  "phone_verified": true
}
```

---

## 8. QA 체크리스트

### 8.1 XP 획득

- [ ] 친구 가입 시 +50 XP
- [ ] $1 입금 시 +5 XP
- [ ] Nudge 발송 시 +1 XP
- [ ] Nudge 성공 시 +3 XP

### 8.2 레벨업

- [ ] XP 충족 시 레벨업
- [ ] 레벨업 애니메이션/팝업

### 8.3 보상 수령

- [ ] 미인증 시 인증 화면 유도
- [ ] 인증 완료 시 수령 가능
- [ ] 수령 후 금 잔고 반영
- [ ] 중복 수령 방지
