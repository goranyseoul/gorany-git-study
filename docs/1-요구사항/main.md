# 냉장고 재고 관리 앱 요구사항

## 문제 (Problem)

- 냉장고에 뭐가 있는지 파악이 안 됨
- 식재료 유통기한 놓쳐서 버리는 경우 많음
- 있는 재료로 뭘 만들 수 있는지 모름
- 식사 칼로리 관리가 어려움

## 해결방법 (Solution)

영수증 기반 자동 재고 관리 + AI 레시피 추천 + 식사 사진 기반 재고/칼로리 추적

### 핵심 기능

1. **영수증 스캔** → 구매 품목 자동 등록
2. **재고 기반 레시피 추천** → "이거로 뭐 만들지?"
3. **식사 사진 업로드** → 재고 차감 + 칼로리 계산
4. **가족 공유** → 냉장고 공동 관리

## 목표 (Goal)

| 목표 | 측정 기준 |
|------|----------|
| 음식물 쓰레기 감소 | 유통기한 임박 알림 후 소비율 80% |
| 재고 파악 시간 단축 | 영수증 스캔 10초 내 등록 |
| 식단 관리 | 일일 칼로리 자동 기록 |

## 지원 플랫폼

| 플랫폼 | 지원 | 비고 |
|--------|------|------|
| iOS | ✅ | 우선 개발 |
| Android | ✅ | 우선 개발 |
| 웹 | ❌ | 추후 고려 |

## 사용자 구분

| 구분 | 설명 |
|------|------|
| 가족 관리자 | 가족 그룹 생성, 멤버 초대 |
| 가족 멤버 | 재고 조회/수정, 레시피 확인, 식사 기록 |

> 1인 사용자 = 1인 가족으로 처리 (별도 로직 불필요)

## 사용자 플로우

### Flow 1: 장보기 후 재고 등록
```
1. 앱 열기
2. "영수증 스캔" 버튼 탭
3. 영수증 촬영 또는 갤러리에서 선택
4. OCR 결과 확인 (품목, 수량, 가격, 날짜)
5. 수정할 거 있으면 수정
6. "등록" 버튼 → 재고에 추가됨
```

### Flow 2: 뭐 먹을지 고민
```
1. 앱 열기
2. "레시피 추천" 탭
3. 현재 재고 기반 추천 목록 표시
4. 레시피 선택 → 상세 보기
5. "요리 시작" 버튼 → 재고 예약 차감
```

### Flow 3: 식사 기록
```
1. 음식 완성 후 사진 촬영
2. "식사 기록" 버튼 탭
3. 사진 업로드
4. AI가 음식 인식 → 칼로리 계산
5. 사용된 재료 자동 차감 (수동 수정 가능)
6. 완료 → 식사 기록 저장
```

### Flow 4: 재고 확인
```
1. 앱 열기 → 홈에서 재고 현황 표시
2. 유통기한 임박 품목 상단 노출
3. 품목 탭 → 상세 (구매일, 남은 양, 유통기한)
4. 수동으로 수량 조정 가능
```

### Flow 5: 가족 초대
```
1. 설정 → 가족 관리
2. "멤버 초대" 버튼
3. 초대 링크 생성 → 공유
4. 수락 시 같은 냉장고 공유
```

## 요구사항 체크리스트

### 재고 관리
- [ ] REQ-001: 영수증 사진 OCR로 품목/수량/가격/날짜 추출
- [ ] REQ-002: 전자 영수증 이미지 업로드 지원
- [ ] REQ-003: 수동 재고 추가/수정/삭제
- [ ] REQ-004: 유통기한 입력 및 관리
- [ ] REQ-005: 유통기한 임박 푸시 알림 (D-3, D-1)

### 레시피 추천
- [ ] REQ-006: 현재 재고 기반 레시피 추천
- [ ] REQ-007: 레시피 상세 (재료, 조리법, 예상 칼로리)
- [ ] REQ-008: "요리 시작" 시 재료 예약 차감

### 식사 기록
- [ ] REQ-009: 음식 사진 업로드
- [ ] REQ-010: AI 음식 인식 → 칼로리 추정
- [ ] REQ-011: 사용 재료 자동 매칭 및 재고 차감
- [ ] REQ-012: 수동 재료/칼로리 수정

### 가족 공유
- [ ] REQ-013: 가족 그룹 생성
- [ ] REQ-014: 초대 링크로 멤버 추가
- [ ] REQ-015: 실시간 재고 동기화

### 기타
- [ ] REQ-016: 회원가입/로그인 (소셜 로그인)
- [ ] REQ-017: 푸시 알림
- [ ] REQ-018: 식사 기록 히스토리 (캘린더 뷰)

## 기술 고려사항 (참고용)

> 이 섹션은 개발 단계에서 구체화됩니다.

| 기능 | 필요 기술 |
|------|----------|
| 영수증 OCR | Google Vision API / Naver Clova OCR |
| 레시피 추천 | OpenAI API / 자체 추천 알고리즘 |
| 음식 인식 | Google Vision API / 커스텀 모델 |
| 칼로리 DB | 식품의약품안전처 API / 자체 DB |
| 실시간 동기화 | Firebase / Supabase Realtime |
